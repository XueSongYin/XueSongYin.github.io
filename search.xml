<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hello World</title>
      <link href="/2018/12/28/hello-world/"/>
      <url>/2018/12/28/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>01内建函数-日期函数</title>
      <link href="/2018/09/07/01-nei-jian-han-shu-ri-qi-han-shu/"/>
      <url>/2018/09/07/01-nei-jian-han-shu-ri-qi-han-shu/</url>
      
        <content type="html"><![CDATA[<p><a href="https://helpcdn.aliyun.com/document_detail/96342.html?spm=a2c4g.11186623.6.642.5ced5c813MwBoQ" target="_blank" rel="noopener">内建函数对照-与mysql 以及oracle</a></p><h3 id="日期函数"><a href="#日期函数" class="headerlink" title="日期函数"></a>日期函数</h3><h4 id="DATEADD"><a href="#DATEADD" class="headerlink" title="DATEADD"></a>DATEADD</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">datetime dateadd(datetime date, bigint delta, string datepart)</span><br></pre></td></tr></table></figure><ul><li>date：Datetime类型，日期值。若输入为String类型会隐式转换为Datetime类型后参与运算，其它类型抛异常。</li><li>delta：Bigint类型，修改幅度。若输入为String类型或Double型会隐式转换到Bigint类型后参与运算，其他类型会引发异常。若delta大于0，则增，否则减。</li><li>datepart：String类型常量。此字段的取值遵循String与Datetime类型转换的约定，即yyyy表示年，mm表示月。<blockquote><p>关于类型转换的规则，请参见String类型与Datetime类型之间的转换。此外也支持扩展的日期格式：年-year，月-month或mon，日-day，小时-hour。非常量、不支持的格式或其它类型会抛异常。</p></blockquote></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">若trans_date = 2005-02-28 00:00:00：</span><br><span class="line">dateadd(trans_date, 1, &apos;dd&apos;) = 2005-03-01 00:00:00</span><br><span class="line">-- 加一天，结果超出当年2月份的最后一天，实际值为下个月的第一天</span><br><span class="line">dateadd(trans_date, -1, &apos;dd&apos;) = 2005-02-27 00:00:00</span><br><span class="line">-- 减一天</span><br><span class="line">dateadd(trans_date, 20, &apos;mm&apos;) = 2006-10-28 00:00:00</span><br><span class="line">-- 加20个月，月份溢出，年份加1</span><br><span class="line">若trans_date = 2005-02-28 00:00:00, dateadd(transdate, 1, &apos;mm&apos;) = 2005-03-28 00:00:00</span><br><span class="line">若trans_date = 2005-01-29 00:00:00, dateadd(transdate, 1, &apos;mm&apos;) = 2005-02-28 00:00:00</span><br><span class="line">-- 2005年2月没有29日，日期截取至当月最后一天</span><br><span class="line">若trans_date = 2005-03-30 00:00:00, dateadd(transdate, -1, &apos;mm&apos;) = 2005-02-28 00:00:00</span><br></pre></td></tr></table></figure><p>示例：将string类转换为datetime类型</p><blockquote><p>错误示例：select dateadd(2005-03-30 00:00:00, -1, ‘mm’) from tbl1;</p></blockquote><blockquote><p>正确示例：select dateadd(cast(“2005-03-30 00:00:00” as datetime), -1, ‘mm’) from tbl1;</p></blockquote><h4 id="DATEDIFF"><a href="#DATEDIFF" class="headerlink" title="DATEDIFF"></a>DATEDIFF</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bigint datediff(datetime date1, datetime date2, string datepart)</span><br></pre></td></tr></table></figure><p>命令说明如下：</p><p>计算两个时间date1、date2在指定时间单位datepart的差值。</p><p>参数说明：</p><ul><li>datet1、date2：Datetime类型，被减数和减数，若输入为String类型会隐式转换为Datetime类型后参与运算，其它类型抛异常。</li><li>datepart：String类型常量。支持扩展的日期格式。若datepart不符合指定格式或者其它类型则会发生异常。</li></ul><p>返回值：</p><p>返回Bigint类型。任一输入参数是NULL，返回NULL。如果date1小于date2，返回值可以为负数。</p><p>示例如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">若start = 2005-12-31 23:59:59，end = 2006-01-01 00:00:00:</span><br><span class="line">    datediff(end, start, &apos;dd&apos;) = 1</span><br><span class="line">    datediff(end, start, &apos;mm&apos;) = 1</span><br><span class="line">    datediff(end, start, &apos;yyyy&apos;) = 1</span><br><span class="line">    datediff(end, start, &apos;hh&apos;) = 1</span><br><span class="line">    datediff(end, start, &apos;mi&apos;) = 1</span><br><span class="line">    datediff(end, start, &apos;ss&apos;) = 1</span><br><span class="line">    datediff(&apos;2013-05-31 13:00:00&apos;, &apos;2013-05-31 12:30:00&apos;, &apos;ss&apos;) = 1800</span><br><span class="line">    datediff(&apos;2013-05-31 13:00:00&apos;, &apos;2013-05-31 12:30:00&apos;, &apos;mi&apos;) = 30</span><br><span class="line">若start = 2018-06-04 19:33:23.234，end = 2018-06-04 19:33:23.250 含毫秒的日期不属于标准Datetime式样，不能直接隐式转换，此处需进行显示转换：</span><br><span class="line"> datediff(to_date(&apos;2018-06-04 19:33:23.250&apos;, &apos;yyyy-MM-dd hh:mi:ss.ff3&apos;),to_date(&apos;2018-06-04 19:33:23.234&apos;, &apos;yyyy-MM-dd hh:mi:ss.ff3&apos;) , &apos;ff3&apos;) = 16</span><br></pre></td></tr></table></figure><h4 id="DATEPART"><a href="#DATEPART" class="headerlink" title="DATEPART"></a>DATEPART</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bigint datepart(datetime date, string datepart)</span><br></pre></td></tr></table></figure><p>命令说明如下：</p><p>提取日期date中指定的时间单位datepart的值。</p><p>参数说明：</p><p>返回值：</p><ul><li>date：Datetime类型，若输入为String类型会隐式转换为Datetime类型后参与运算，其它类型抛异常。<br>datepart：String类型常量，支持扩展的日期格式。* 若datepart不符合指定格式或者其它类型则会发生异常。</li></ul><p>返回Bigint类型。若任一输入参数为NULL，返回NULL。</p><p>示例如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">datepart(&apos;2013-06-08 01:10:00&apos;, &apos;yyyy&apos;)  =  2013</span><br><span class="line">datepart(&apos;2013-06-08 01:10:00&apos;, &apos;mm&apos;)  =  6</span><br></pre></td></tr></table></figure><h4 id="DATETRUNC"><a href="#DATETRUNC" class="headerlink" title="DATETRUNC"></a>DATETRUNC</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">datetime datetrunc (datetime date, string datepart)</span><br></pre></td></tr></table></figure><p>命令说明如下：</p><p>返回日期date被截取指定时间单位datepart后的日期值。</p><p>参数说明：</p><ul><li>date：Datetime类型，若输入为String类型会隐式转换为Datetime类型后参与运算，其它类型抛异常。</li><li>datepart：String类型常量，支持扩展的日期格式。若datepart不符合指定格式或者其它类型则会发生异常。</li></ul><p>返回值：</p><p>Datetime类型。任意一个参数为NULL时，返回NULL。</p><p>示例如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">datetrunc(&apos;2011-12-07 16:28:46&apos;, &apos;yyyy&apos;) = 2011-01-01 00:00:00</span><br><span class="line">datetrunc(&apos;2011-12-07 16:28:46&apos;, &apos;month&apos;) = 2011-12-01 00:00:00</span><br><span class="line">datetrunc(&apos;2011-12-07 16:28:46&apos;, &apos;DD&apos;) = 2011-12-07 00:00:00</span><br></pre></td></tr></table></figure><h4 id="GETDATE"><a href="#GETDATE" class="headerlink" title="GETDATE"></a>GETDATE</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">datetime getdate()</span><br></pre></td></tr></table></figure><p>命令说明如下：</p><p>获取当前系统时间。使用东八区时间作为MaxCompute标准时间。</p><p>返回值：</p><p>返回当前日期和时间，Datetime类型。</p><h4 id="ISDATE"><a href="#ISDATE" class="headerlink" title="ISDATE"></a>ISDATE</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">boolean isdate(string date, string format)</span><br></pre></td></tr></table></figure><p>命令说明如下：</p><p>判断一个日期字符串能否根据对应的格式串转换为一个日期值，如果转换成功，返回TRUE，否则返回FALSE。</p><p>参数说明：</p><ul><li>date：String格式的日期值，若输入为Bigint、Double、Decimal或Datetime类型，会隐式转换为String类型后参与运算，其它类型报异常。</li><li>format：String类型常量，不支持日期扩展格式。其它类型或不支持的格式会抛异常。如果format中出现多余的格式串，则只取第一个格式串对应的日期数值，其余的会被视为分隔符。如isdate(“1234-yyyy”, “yyyy-yyyy”)，会返回TRUE。<br>返回值：</li></ul><p>返回Boolean类型，如任意参数为NULL，返回NULL。</p><h5 id="LASTDAY"><a href="#LASTDAY" class="headerlink" title="LASTDAY"></a>LASTDAY</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">datetime lastday(datetime date)</span><br></pre></td></tr></table></figure><p>命令说明如下：</p><p>取date当月的最后一天，截取到天，时分秒部分为00:00:00。</p><p>参数说明：</p><ul><li>date：Datetime类型，若输入为String 类型，会隐式转换为Datetime类型后参与运算，其它类型报异常。</li></ul><p>返回值：</p><p>返回Datetime类型，如输入为NULL，返回NULL。</p><h4 id="TO-DATE"><a href="#TO-DATE" class="headerlink" title="TO_DATE"></a>TO_DATE</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">datetime to_date(string date, string format)</span><br></pre></td></tr></table></figure><p>命令说明如下：</p><p>用途：将一个format格式的字符串date转成日期值。</p><p>参数说明：</p><ul><li>date：String类型，要转换的字符串格式的日期值，若输入为Bigint、Double、Decimal或者Datetime类型，会隐式转换为String类型后参与运算，为其它类型则抛异常，为空串时抛异常。</li><li>format：String类型常量，日期格式。非常量或其他类型会引发异常。format不支持日期扩展格式，其他字符作为无用字符在解析时忽略。</li></ul><blockquote><p>format参数至少包含“yyyy”，否则引发异常，如果format中出现多余的格式串，则只取第一个格式串对应的日期数值，其余的会被视为分隔符。如to_date(“1234-2234”, “yyyy-yyyy”) 会返回1234-01-01 00:00:00。</p></blockquote><blockquote><p>format格式：yyyy为四位数的年，mm为2位数的月，dd为2位数的日，hh为24小时制的时，mi为2位数的分钟，ss为2位数秒，ff3为3位精度毫秒。</p></blockquote><p>返回值：返回Datetime类型，格式为‘yyyy-mm-dd hh:mi:ss’ 。若任意一个输入的参数为NULL，则返回NULL值。</p><p>示例如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">to_date(&apos;阿里巴巴2010-12*03&apos;, &apos;阿里巴巴yyyy-mm*dd&apos;) = 2010-12-03 00:00:00</span><br><span class="line">to_date(&apos;20080718&apos;, &apos;yyyymmdd&apos;) = 2008-07-18 00:00:00</span><br><span class="line">to_date(&apos;200807182030&apos;,&apos;yyyymmddhhmi&apos;) = 2008-07-18 20:30:00</span><br><span class="line">to_date(&apos;2008718&apos;, &apos;yyyymmdd&apos;) = null</span><br><span class="line">-- 格式不符合，引发异常</span><br><span class="line">to_date(&apos;阿里巴巴2010-12*3&apos;, &apos;阿里巴巴yyyy-mm*dd&apos;) = null</span><br><span class="line">-- 格式不符合，引发异常</span><br><span class="line">to_date(&apos;2010-24-01&apos;, &apos;yyyy&apos;) = null</span><br><span class="line">-- 格式不符合，引发异常</span><br><span class="line">to_date(&apos;20181030 15-13-12.345&apos;,&apos;yyyymmdd hh-mi-ss.ff3&apos;)=2018-10-30 15:13:12</span><br></pre></td></tr></table></figure><h4 id="TO-CHAR"><a href="#TO-CHAR" class="headerlink" title="TO_CHAR"></a>TO_CHAR</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">string to_char(datetime date, string format)</span><br></pre></td></tr></table></figure><p>命令说明如下：</p><p>将日期类型date按照format指定的格式转成字符串。</p><p>参数类型：</p><ul><li>date：Datetime类型，要转换的日期值，若输入为String类型，会隐式转换为Datetime类型后参与运算，其它类型抛异常。</li><li>format：String类型常量。非常量或其他类型会引发异常。format中的日期格式部分会被替换成相应的数据，其它字符直接输出。</li></ul><p>返回值：</p><p>返回String类型。若任意一个输入的参数为NULL，则返回NULL值。</p><p>示例如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">to_char(&apos;2010-12-03 00:00:00&apos;, &apos;阿里金融yyyy-mm*dd&apos;) = &apos;阿里金融2010-12*03&apos;</span><br><span class="line">to_char(&apos;2008-07-18 00:00:00&apos;, &apos;yyyymmdd&apos;) = &apos;20080718&apos; </span><br><span class="line">to_char(&apos;阿里巴巴2010-12*3&apos;, &apos;阿里巴巴yyyy-mm*dd&apos;) -- 引发异常</span><br><span class="line">to_char(&apos;2010-24-01&apos;, &apos;yyyy&apos;) -- 会引发异常</span><br><span class="line">to_char(&apos;2008718&apos;, &apos;yyyymmdd&apos;) -- 会引发异常</span><br></pre></td></tr></table></figure></p><h4 id="UNIX-TIMESTAMP"><a href="#UNIX-TIMESTAMP" class="headerlink" title="UNIX_TIMESTAMP"></a>UNIX_TIMESTAMP</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bigint unix_timestamp(datetime date)</span><br></pre></td></tr></table></figure><p>命令说明如下：</p><p>将日期date转化为整型的unix格式的日期时间值。</p><p>参数说明：</p><ul><li>date：Datetime类型日期值，若输入为String类型，会隐式转换为Datetime类型后参与运算，其它类型抛异常。</li></ul><p>返回值：</p><p>返回Bigint类型，表示unix格式日期值，date为NULL时，返回NULL值。</p><h4 id="FROM-UNIXTIME"><a href="#FROM-UNIXTIME" class="headerlink" title="FROM_UNIXTIME"></a>FROM_UNIXTIME</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">datetime from_unixtime(bigint unixtime)</span><br></pre></td></tr></table></figure><p>命令说明如下：</p><p>将数字型的unix时间日期值unixtime转为日期值。</p><p>参数说明：</p><ul><li>unixtime：Bigint类型，秒数，unix格式的日期时间值，若输入为String、Double、Decimal类型会隐式转换为Bigint后参与运算。</li></ul><p>返回值：</p><p>返回Datetime类型的日期值，unixtime为NULL时，返回NULL。</p><p>示例如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from_unixtime(123456789) = 1973-11-30 05:33:09</span><br></pre></td></tr></table></figure><h4 id="WEEKDAY"><a href="#WEEKDAY" class="headerlink" title="WEEKDAY"></a>WEEKDAY</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bigint weekday (datetime date)</span><br></pre></td></tr></table></figure><p>命令说明如下：</p><p>返回date日期当前周的第几天。</p><p>参数说明：</p><ul><li>date：Datetime类型，若输入为String类型，会隐式转换为Datetime类型后参与运算，其它类型抛异常。</li></ul><p>返回值：</p><p>返回Bigint类型，若输入参数为NULL，返回NULL值。周一作为一周的第一天，返回值为0。其他日期依次递增，周日返回6。</p><h4 id="WEEKOFYEAR"><a href="#WEEKOFYEAR" class="headerlink" title="WEEKOFYEAR"></a>WEEKOFYEAR</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bigint weekofyear(datetime date)</span><br></pre></td></tr></table></figure><p>命令说明如下：</p><p>返回日期date位于那一年的第几周。周一作为一周的第一天。</p><p>参数说明:</p><ul><li>date：Datetime类型日期值，若输入为String类型，会隐式转换为Datetime类型后参与运算，其它类型抛异常。</li></ul><p>返回值：</p><p>返回Bigint类型。若输入为NULL，返回NULL值</p><p>示例如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">select weekofyear(to_date(&quot;20141229&quot;, &quot;yyyymmdd&quot;)) from dual;  </span><br><span class="line">返回结果：  </span><br><span class="line">+------------+</span><br><span class="line">| _c0        |</span><br><span class="line">+------------+</span><br><span class="line">| 1          |</span><br><span class="line">+------------+</span><br><span class="line"> -虽然20141229属于2014年，但是这一周的大多数日期是在2015年，因此返回结果为1，表示是2015年的第一周。    </span><br><span class="line"> select weekofyear(to_date(&quot;20141231&quot;, &quot;yyyymmdd&quot;)) from dual；--返回结果为1。  </span><br><span class="line"> select weekofyear(to_date(&quot;20151229&quot;, &quot;yyyymmdd&quot;)) from dual；--返回结果为53。</span><br></pre></td></tr></table></figure><h3 id="日期函数扩展函数（支持MaxCompute2-0）"><a href="#日期函数扩展函数（支持MaxCompute2-0）" class="headerlink" title="日期函数扩展函数（支持MaxCompute2.0）"></a>日期函数扩展函数（支持MaxCompute2.0）</h3>]]></content>
      
      
      <categories>
          
          <category> Markdown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Typora </tag>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
